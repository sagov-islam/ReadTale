"use strict";import ReturnHTML from"./ReturnHTML.min.js";import ShowIt from"./ShowIt.min.js";export default class Comment{constructor(t){this.props=t}eventAddTextarea(){$(".rt-comment .rt-comment__btn").each(((t,e)=>{$(e).parent();$(e).on("click",(()=>{$(".rt-comment .rt-textarea").remove(),$(".rt-comment .rt-comment__btn").show(),$(e).after(ReturnHTML.textarea()),$(e).hide(),setTimeout((()=>{new ShowIt({selector:".rt-textarea",seconds:.2}).smoothShow()}),1);const t=$(".rt-comment .rt-textarea textarea");t.on("input",(()=>{!$(t).scrollTop()>0||$(t).css({height:`${$(t).prop("scrollHeight")}px`})})),this.eventAddComment($(".rt-comment button#btn-add-comment"))}))}))}eventAddComment(t){const e=t.parent().parent(),o=$("textarea",e),n=$(t).parent();n.on("submit",(t=>{t.preventDefault(),$(".rt-comment__btn").show(),e.append(ReturnHTML.comment({classes:["rt-comments-inner"],name:"Гость",date:(new Date).toLocaleDateString(),text:o.val(),img:"./images/user-image.jpg"})),n.remove(),setTimeout((()=>{new ShowIt({selector:".rt-comments-inner",seconds:.2}).smoothShow()}),1),this.eventAddTextarea()}))}static dynamicTextareaHeight(){const t=$(".rt-textarea textarea");t.on("input",(()=>{!$(t).scrollTop()>0||$(t).css({height:`${$(t).prop("scrollHeight")}px`})}))}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbW1lbnQubWluLmpzIl0sIm5hbWVzIjpbIlJldHVybkhUTUwiLCJTaG93SXQiLCJDb21tZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInRoaXMiLCJldmVudEFkZFRleHRhcmVhIiwiJCIsImVhY2giLCJpbmRleCIsImJ0biIsInBhcmVudCIsIm9uIiwicmVtb3ZlIiwic2hvdyIsImFmdGVyIiwidGV4dGFyZWEiLCJoaWRlIiwic2V0VGltZW91dCIsInNlbGVjdG9yIiwic2Vjb25kcyIsInNtb290aFNob3ciLCJzY3JvbGxUb3AiLCJjc3MiLCJoZWlnaHQiLCJwcm9wIiwiZXZlbnRBZGRDb21tZW50IiwiY29tbWVudCIsImZvcm0iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiYXBwZW5kIiwiY2xhc3NlcyIsIm5hbWUiLCJkYXRlIiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInRleHQiLCJ2YWwiLCJpbWciLCJzdGF0aWMiXSwibWFwcGluZ3MiOiJBQUFBLG9CQUVPQSxlQUFnQiw2QkFDaEJDLFdBQVksaUNBRUosTUFBTUMsUUFFakJDLFlBQVlDLEdBQ1JDLEtBQUtELE1BQVFBLEVBS2pCRSxtQkFDSUMsRUFBRSxnQ0FBZ0NDLE1BQUssQ0FBQ0MsRUFBT0MsS0FDNUJILEVBQUVHLEdBQUtDLFNBRXRCSixFQUFFRyxHQUFLRSxHQUFHLFNBQVMsS0FDZkwsRUFBRSw0QkFBNEJNLFNBQzlCTixFQUFFLGdDQUFnQ08sT0FFbENQLEVBQUVHLEdBQUtLLE1BQU1mLFdBQVdnQixZQUN4QlQsRUFBRUcsR0FBS08sT0FFUEMsWUFBVyxLQUFRLElBQUlqQixPQUFPLENBQUVrQixTQUFVLGVBQWdCQyxRQUFTLEtBQU9DLGVBQWdCLEdBRTFGLE1BQU1MLEVBQVdULEVBQUUscUNBQ25CUyxFQUFTSixHQUFHLFNBQVMsTUFDVkwsRUFBRVMsR0FBVU0sWUFBYyxHQUNqQ2YsRUFBRVMsR0FBVU8sSUFBSSxDQUNaQyxPQUFRLEdBQUdqQixFQUFFUyxHQUFVUyxLQUFLLHlCQUlwQ3BCLEtBQUtxQixnQkFBZ0JuQixFQUFFLDZDQUtuQ21CLGdCQUFnQmhCLEdBQ1osTUFBTWlCLEVBQVVqQixFQUFJQyxTQUFTQSxTQUN2QkssRUFBV1QsRUFBRSxXQUFZb0IsR0FDekJDLEVBQU9yQixFQUFFRyxHQUFLQyxTQUVwQmlCLEVBQUtoQixHQUFHLFVBQVdpQixJQUNmQSxFQUFNQyxpQkFFTnZCLEVBQUUsb0JBQW9CTyxPQUV0QmEsRUFBUUksT0FBTy9CLFdBQVcyQixRQUFRLENBQzlCSyxRQUFTLENBQUMscUJBQ1ZDLEtBQU0sUUFDTkMsTUFBTSxJQUFJQyxNQUFPQyxxQkFDakJDLEtBQU1yQixFQUFTc0IsTUFDZkMsSUFBSyw2QkFHVFgsRUFBS2YsU0FFTEssWUFBVyxLQUFRLElBQUlqQixPQUFPLENBQUVrQixTQUFVLHFCQUFzQkMsUUFBUyxLQUFPQyxlQUFnQixHQUVoR2hCLEtBQUtDLHNCQU9ia0MsK0JBQ0ksTUFBTXhCLEVBQVdULEVBQUUseUJBQ25CUyxFQUFTSixHQUFHLFNBQVMsTUFDVkwsRUFBRVMsR0FBVU0sWUFBYyxHQUNqQ2YsRUFBRVMsR0FBVU8sSUFBSSxDQUNaQyxPQUFRLEdBQUdqQixFQUFFUyxHQUFVUyxLQUFLIiwiZmlsZSI6IkNvbW1lbnQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IFJldHVybkhUTUwgZnJvbSAnLi9SZXR1cm5IVE1MLm1pbi5qcyc7XHJcbmltcG9ydCBTaG93SXQgZnJvbSAnLi9TaG93SXQubWluLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzXHJcblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBQVUJMSUMgLS0tLT5cclxuICAgIGV2ZW50QWRkVGV4dGFyZWEoKSB7XHJcbiAgICAgICAgJCgnLnJ0LWNvbW1lbnQgLnJ0LWNvbW1lbnRfX2J0bicpLmVhY2goKGluZGV4LCBidG4pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gJChidG4pLnBhcmVudCgpO1xyXG5cclxuICAgICAgICAgICAgJChidG4pLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICQoJy5ydC1jb21tZW50IC5ydC10ZXh0YXJlYScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnJ0LWNvbW1lbnQgLnJ0LWNvbW1lbnRfX2J0bicpLnNob3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKGJ0bikuYWZ0ZXIoUmV0dXJuSFRNTC50ZXh0YXJlYSgpKTtcclxuICAgICAgICAgICAgICAgICQoYnRuKS5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IG5ldyBTaG93SXQoeyBzZWxlY3RvcjogJy5ydC10ZXh0YXJlYScsIHNlY29uZHM6IDAuMiB9KS5zbW9vdGhTaG93KCkgfSwgMSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRhcmVhID0gJCgnLnJ0LWNvbW1lbnQgLnJ0LXRleHRhcmVhIHRleHRhcmVhJyk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0YXJlYS5vbignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhICQodGV4dGFyZWEpLnNjcm9sbFRvcCgpID4gMCkgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgJCh0ZXh0YXJlYSkuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHskKHRleHRhcmVhKS5wcm9wKCdzY3JvbGxIZWlnaHQnKX1weGBcclxuICAgICAgICAgICAgICAgICAgICB9KSBcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRBZGRDb21tZW50KCQoJy5ydC1jb21tZW50IGJ1dHRvbiNidG4tYWRkLWNvbW1lbnQnKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBldmVudEFkZENvbW1lbnQoYnRuKSB7XHJcbiAgICAgICAgY29uc3QgY29tbWVudCA9IGJ0bi5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICBjb25zdCB0ZXh0YXJlYSA9ICQoJ3RleHRhcmVhJywgY29tbWVudCk7XHJcbiAgICAgICAgY29uc3QgZm9ybSA9ICQoYnRuKS5wYXJlbnQoKTtcclxuICAgICAgICBcclxuICAgICAgICBmb3JtLm9uKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICQoJy5ydC1jb21tZW50X19idG4nKS5zaG93KCk7XHJcblxyXG4gICAgICAgICAgICBjb21tZW50LmFwcGVuZChSZXR1cm5IVE1MLmNvbW1lbnQoe1xyXG4gICAgICAgICAgICAgICAgY2xhc3NlczogWydydC1jb21tZW50cy1pbm5lciddLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ9CT0L7RgdGC0YwnLFxyXG4gICAgICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIHRleHQ6IHRleHRhcmVhLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgaW1nOiAnLi9pbWFnZXMvdXNlci1pbWFnZS5qcGcnXHJcbiAgICAgICAgICAgIH0pKVxyXG5cclxuICAgICAgICAgICAgZm9ybS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBuZXcgU2hvd0l0KHsgc2VsZWN0b3I6ICcucnQtY29tbWVudHMtaW5uZXInLCBzZWNvbmRzOiAwLjIgfSkuc21vb3RoU2hvdygpIH0sIDEpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ldmVudEFkZFRleHRhcmVhKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIC8vIDwtLS0tIFBVQkxJQ1xyXG5cclxuICAgIC8vIFNUQVRJQyAtLS0tPlxyXG4gICAgc3RhdGljIGR5bmFtaWNUZXh0YXJlYUhlaWdodCgpIHtcclxuICAgICAgICBjb25zdCB0ZXh0YXJlYSA9ICQoJy5ydC10ZXh0YXJlYSB0ZXh0YXJlYScpO1xyXG4gICAgICAgIHRleHRhcmVhLm9uKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCAhICQodGV4dGFyZWEpLnNjcm9sbFRvcCgpID4gMCkgcmV0dXJuXHJcbiAgICAgICAgICAgICQodGV4dGFyZWEpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGAkeyQodGV4dGFyZWEpLnByb3AoJ3Njcm9sbEhlaWdodCcpfXB4YFxyXG4gICAgICAgICAgICB9KSBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgLy8gPC0tLS0gU1RBVElDXHJcblxyXG59Il19
